{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Dno\\\\Desktop\\\\pu-web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Dno\\\\Desktop\\\\pu-web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Dno\\\\Desktop\\\\pu-web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Dno\\\\Desktop\\\\pu-web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Dno\\\\Desktop\\\\pu-web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Dno\\\\Desktop\\\\pu-web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import AppBarHome from\"../home/AppBarHome\";import HomeFooter from\"../../pages/home/HomeFooter\";import TFString from\"../../inputs/TFString\";import LoginButtonLarge from\"../../buttons/LoginButtonLarge\";import ForgotPasswordButton from\"../../buttons/ForgotPasswordButton\";import{Redirect}from'react-router-dom';import PULoading from'components/common/PULoading';import{containerStyle}from\"../home/styles/PublicStyle\";import Radium from\"radium\";var loginHolder={marginTop:\"100px\",width:\"320px\"};var wrapper={display:\"flex\",justifyContent:\"center\",padding:\"0 32px\"};var hintStyle={textAlign:\"left\",fontSize:\"14px\",fontFamily:\"ProximaNova, sans-serif\",fontWeight:\"bold\",marginTop:\"20px\",marginBottom:\"0\",marginLeft:\"30px\",opacity:\"0.6\"};var headerStyle={textAlign:\"center\",fontSize:\"18px\",fontFamily:\"ProximaNova, sans-serif\",fontWeight:\"bold\",marginTop:\"0px\",marginBottom:\"50px\",opacity:\"0.7\"};var spacer={height:\"40px\",width:\"100%\"};var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.handleLoginRedirect=function(){_this.setState({login_redirect:true});};var intViewportHeight=window.innerHeight-332;var intLoadingBackgroundHeight=window.innerHeight;var intLoadingBackgroundWidth=window.innerWidth;_this.state={divHeight:intViewportHeight,loadingBackgroundHeight:intLoadingBackgroundHeight,loadingBackgroundWidth:intLoadingBackgroundWidth,sms_code_check_redirect:false,dashboard_redirect:false,login_redirect:false,register_redirect:false,progressBarVisible:false};_this.tf_login=React.createRef();_this.tf_password=React.createRef();_this.handleLoginResponse=_this.handleLoginResponse.bind(_assertThisInitialized(_this));_this.handleRegisterRedirect=_this.handleRegisterRedirect.bind(_assertThisInitialized(_this));_this.showProgressBar=_this.showProgressBar.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"showProgressBar\",value:function showProgressBar(barVisible){this.setState({progressBarVisible:barVisible});}},{key:\"generateLoginHolderStyle\",value:function generateLoginHolderStyle(){return{minHeight:this.state.divHeight};}},{key:\"handleRegisterRedirect\",value:function handleRegisterRedirect(){this.setState({register_redirect:true});}},{key:\"handleLoginResponse\",value:function handleLoginResponse(resp,login,password){if(resp.status==='OK'&&resp.response.two_factor_auth===true){sessionStorage.setItem('user_id',resp.response.user_id);sessionStorage.setItem('token',resp.response.token);sessionStorage.setItem('key',resp.response.key);sessionStorage.setItem('id_sms_code',resp.response.id_sms_code);this.setState({sms_code_check_redirect:true});}else if(resp.status==='OK'&&(resp.response.two_factor_auth===false||resp.response.two_factor_auth===null)){sessionStorage.setItem('user_id',resp.response.user_id);sessionStorage.setItem('token',resp.response.token);sessionStorage.setItem('key',resp.response.key);sessionStorage.setItem('phone_number',resp.response.phone_number);this.setState({dashboard_redirect:true});}else{if(resp.status==='FAIL'){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=resp.errors[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var error=_step.value;this.tf_login.current.setValue(login);this.tf_password.current.setValue(password);switch(error.code){case 1:{this.tf_login.current.setError(error.message);break;}case 2:{this.tf_password.current.setError(error.message);break;}case 3:{this.tf_login.current.setError(error.message);this.tf_password.current.setError('');break;}default:{break;}}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}this.setState({sms_code_check_redirect:false});this.setState({dashboard_redirect:false});}else{alert('Server error!');this.setState({sms_code_check_redirect:false});this.setState({dashboard_redirect:false});}}}},{key:\"render\",value:function render(){if(this.state.progressBarVisible){return React.createElement(PULoading,{size:100,thickness:3});}if(!this.state.sms_code_check_redirect&&!this.state.dashboard_redirect&&!this.state.register_redirect){return React.createElement(\"div\",{className:\"App\"},React.createElement(\"header\",{className:\"App-header\"},React.createElement(AppBarHome,{loginRedirectHandler:this.handleLoginRedirect,registerRedirectHandler:this.handleRegisterRedirect})),React.createElement(\"div\",{style:this.generateLoginHolderStyle()},React.createElement(\"div\",{styel:containerStyle},React.createElement(\"div\",{style:wrapper},React.createElement(\"div\",{style:loginHolder},React.createElement(\"p\",{style:headerStyle},\"Sign in to PAYSUNION\"),React.createElement(\"p\",{style:hintStyle},\"Input phone or email\"),React.createElement(TFString,{tf_required:true// tf_variant=\"outlined\"\n,tf_margin:\"normal\",tf_default_value:\"\",tf_enabled:\"true\",ref:this.tf_login}),React.createElement(\"p\",{style:hintStyle},\"Input password\"),React.createElement(TFString,{tf_required:true// tf_variant=\"outlined\"\n,tf_margin:\"normal\",tf_type:\"password\",tf_default_value:\"\",tf_enabled:\"true\",ref:this.tf_password}),React.createElement(\"div\",{style:spacer}),React.createElement(\"div\",{style:{textAlign:'center'}},React.createElement(LoginButtonLarge,{etLoginRef:this.tf_login,etPasswordRef:this.tf_password,loginResponseHandler:this.handleLoginResponse,showProgressBar:this.showProgressBar}),React.createElement(ForgotPasswordButton,null)))))),React.createElement(HomeFooter,null));}else if(this.state.sms_code_check_redirect&&!this.state.dashboard_redirect){return React.createElement(Redirect,{push:true,to:\"/login_enter_sms_code\"});}else if(this.state.dashboard_redirect&&!this.state.sms_code_check_redirect){return React.createElement(Redirect,{push:true,to:\"/dashboard\"});}else if(this.state.register_redirect){return React.createElement(Redirect,{push:true,to:\"/register\"});}}}]);return Login;}(React.Component);export default Radium(Login);","map":{"version":3,"sources":["C:/Users/Dno/Desktop/pu-web/src/components/pages/login/Login.js"],"names":["React","AppBarHome","HomeFooter","TFString","LoginButtonLarge","ForgotPasswordButton","Redirect","PULoading","containerStyle","Radium","loginHolder","marginTop","width","wrapper","display","justifyContent","padding","hintStyle","textAlign","fontSize","fontFamily","fontWeight","marginBottom","marginLeft","opacity","headerStyle","spacer","height","Login","props","handleLoginRedirect","setState","login_redirect","intViewportHeight","window","innerHeight","intLoadingBackgroundHeight","intLoadingBackgroundWidth","innerWidth","state","divHeight","loadingBackgroundHeight","loadingBackgroundWidth","sms_code_check_redirect","dashboard_redirect","register_redirect","progressBarVisible","tf_login","createRef","tf_password","handleLoginResponse","bind","handleRegisterRedirect","showProgressBar","barVisible","minHeight","resp","login","password","status","response","two_factor_auth","sessionStorage","setItem","user_id","token","key","id_sms_code","phone_number","errors","error","current","setValue","code","setError","message","alert","generateLoginHolderStyle","Component"],"mappings":"4tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,gCAA7B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,oCAAjC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAAQC,cAAR,KAA6B,4BAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAEA,GAAMC,CAAAA,WAAW,CAAG,CAChBC,SAAS,CAAE,OADK,CAEhBC,KAAK,CAAE,OAFS,CAApB,CAMA,GAAMC,CAAAA,OAAO,CAAG,CACZC,OAAO,CAAE,MADG,CAEZC,cAAc,CAAE,QAFJ,CAGZC,OAAO,CAAE,QAHG,CAAhB,CAMA,GAAMC,CAAAA,SAAS,CAAG,CACdC,SAAS,CAAE,MADG,CAEdC,QAAQ,CAAE,MAFI,CAGdC,UAAU,CAAE,yBAHE,CAIdC,UAAU,CAAE,MAJE,CAKdV,SAAS,CAAE,MALG,CAMdW,YAAY,CAAE,GANA,CAOdC,UAAU,CAAE,MAPE,CAQdC,OAAO,CAAE,KARK,CAAlB,CAWA,GAAMC,CAAAA,WAAW,CAAG,CAChBP,SAAS,CAAE,QADK,CAEhBC,QAAQ,CAAE,MAFM,CAGhBC,UAAU,CAAE,yBAHI,CAIhBC,UAAU,CAAE,MAJI,CAKhBV,SAAS,CAAE,KALK,CAMhBW,YAAY,CAAE,MANE,CAOhBE,OAAO,CAAE,KAPO,CAApB,CAUA,GAAME,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,MADG,CAEXf,KAAK,CAAE,MAFI,CAAf,C,GAOMgB,CAAAA,K,2EAEF,eAAYC,KAAZ,CAAmB,uCACf,uEAAMA,KAAN,GADe,MAoCnBC,mBApCmB,CAoCG,UAAM,CACxB,MAAKC,QAAL,CAAc,CAAEC,cAAc,CAAE,IAAlB,CAAd,EACH,CAtCkB,CAEf,GAAIC,CAAAA,iBAAiB,CAAGC,MAAM,CAACC,WAAP,CAAqB,GAA7C,CACA,GAAIC,CAAAA,0BAA0B,CAAGF,MAAM,CAACC,WAAxC,CACA,GAAIE,CAAAA,yBAAyB,CAAGH,MAAM,CAACI,UAAvC,CACA,MAAKC,KAAL,CAAa,CACTC,SAAS,CAAEP,iBADF,CAETQ,uBAAuB,CAAEL,0BAFhB,CAGTM,sBAAsB,CAAEL,yBAHf,CAITM,uBAAuB,CAAE,KAJhB,CAKTC,kBAAkB,CAAE,KALX,CAMTZ,cAAc,CAAE,KANP,CAOTa,iBAAiB,CAAE,KAPV,CAQTC,kBAAkB,CAAE,KARX,CAAb,CAUA,MAAKC,QAAL,CAAgB/C,KAAK,CAACgD,SAAN,EAAhB,CACA,MAAKC,WAAL,CAAmBjD,KAAK,CAACgD,SAAN,EAAnB,CACA,MAAKE,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBC,IAAzB,+BAA3B,CAEA,MAAKC,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BD,IAA5B,+BAA9B,CACA,MAAKE,eAAL,CAAuB,MAAKA,eAAL,CAAqBF,IAArB,+BAAvB,CApBe,aAqBlB,C,0EACeG,U,CAAY,CACxB,KAAKvB,QAAL,CAAc,CAAEe,kBAAkB,CAAEQ,UAAtB,CAAd,EACH,C,2EAM0B,CACvB,MAAO,CACHC,SAAS,CAAE,KAAKhB,KAAL,CAAWC,SADnB,CAAP,CAGH,C,uEAMwB,CACrB,KAAKT,QAAL,CAAc,CAAEc,iBAAiB,CAAE,IAArB,CAAd,EACH,C,gEAEmBW,I,CAAMC,K,CAAOC,Q,CAAU,CAEvC,GAAIF,IAAI,CAACG,MAAL,GAAgB,IAAhB,EAAwBH,IAAI,CAACI,QAAL,CAAcC,eAAd,GAAkC,IAA9D,CAAoE,CAChEC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAkCP,IAAI,CAACI,QAAL,CAAcI,OAAhD,EACAF,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAgCP,IAAI,CAACI,QAAL,CAAcK,KAA9C,EACAH,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAA8BP,IAAI,CAACI,QAAL,CAAcM,GAA5C,EACAJ,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAsCP,IAAI,CAACI,QAAL,CAAcO,WAApD,EACA,KAAKpC,QAAL,CAAc,CAAEY,uBAAuB,CAAE,IAA3B,CAAd,EACH,CAND,IAOK,IAAIa,IAAI,CAACG,MAAL,GAAgB,IAAhB,GAAyBH,IAAI,CAACI,QAAL,CAAcC,eAAd,GAAkC,KAAlC,EAA2CL,IAAI,CAACI,QAAL,CAAcC,eAAd,GAAkC,IAAtG,CAAJ,CAAiH,CAClHC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAkCP,IAAI,CAACI,QAAL,CAAcI,OAAhD,EACAF,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAgCP,IAAI,CAACI,QAAL,CAAcK,KAA9C,EACAH,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAA8BP,IAAI,CAACI,QAAL,CAAcM,GAA5C,EACAJ,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAuCP,IAAI,CAACI,QAAL,CAAcQ,YAArD,EACA,KAAKrC,QAAL,CAAc,CAAEa,kBAAkB,CAAE,IAAtB,CAAd,EACH,CANI,IAOA,CACD,GAAIY,IAAI,CAACG,MAAL,GAAgB,MAApB,CAA4B,iGACxB,kBAAoBH,IAAI,CAACa,MAAzB,oHAAiC,IAAtBC,CAAAA,KAAsB,aAC7B,KAAKvB,QAAL,CAAcwB,OAAd,CAAsBC,QAAtB,CAA+Bf,KAA/B,EACA,KAAKR,WAAL,CAAiBsB,OAAjB,CAAyBC,QAAzB,CAAkCd,QAAlC,EAEA,OAAQY,KAAK,CAACG,IAAd,EACI,IAAK,EAAL,CAAQ,CACJ,KAAK1B,QAAL,CAAcwB,OAAd,CAAsBG,QAAtB,CAA+BJ,KAAK,CAACK,OAArC,EACA,MACH,CACD,IAAK,EAAL,CAAQ,CACJ,KAAK1B,WAAL,CAAiBsB,OAAjB,CAAyBG,QAAzB,CAAkCJ,KAAK,CAACK,OAAxC,EACA,MACH,CACD,IAAK,EAAL,CAAQ,CACJ,KAAK5B,QAAL,CAAcwB,OAAd,CAAsBG,QAAtB,CAA+BJ,KAAK,CAACK,OAArC,EACA,KAAK1B,WAAL,CAAiBsB,OAAjB,CAAyBG,QAAzB,CAAkC,EAAlC,EACA,MACH,CACD,QAAS,CACL,MACH,CAhBL,CAkBH,CAvBuB,qMAwBxB,KAAK3C,QAAL,CAAc,CAAEY,uBAAuB,CAAE,KAA3B,CAAd,EACA,KAAKZ,QAAL,CAAc,CAAEa,kBAAkB,CAAE,KAAtB,CAAd,EACH,CA1BD,IA2BK,CACDgC,KAAK,CAAC,eAAD,CAAL,CACA,KAAK7C,QAAL,CAAc,CAAEY,uBAAuB,CAAE,KAA3B,CAAd,EACA,KAAKZ,QAAL,CAAc,CAAEa,kBAAkB,CAAE,KAAtB,CAAd,EACH,CACJ,CACJ,C,uCAEQ,CACL,GAAI,KAAKL,KAAL,CAAWO,kBAAf,CAAmC,CAC/B,MAAO,qBAAC,SAAD,EAAW,IAAI,CAAE,GAAjB,CAAsB,SAAS,CAAE,CAAjC,EAAP,CACH,CACD,GACI,CAAC,KAAKP,KAAL,CAAWI,uBAAZ,EACA,CAAC,KAAKJ,KAAL,CAAWK,kBADZ,EAEA,CAAC,KAAKL,KAAL,CAAWM,iBAHhB,CAIE,CACE,MACI,4BAAK,SAAS,CAAC,KAAf,EACI,8BAAQ,SAAS,CAAC,YAAlB,EACI,oBAAC,UAAD,EACI,oBAAoB,CAAE,KAAKf,mBAD/B,CAEI,uBAAuB,CAAE,KAAKsB,sBAFlC,EADJ,CADJ,CAOI,2BAAK,KAAK,CAAE,KAAKyB,wBAAL,EAAZ,EACI,2BAAK,KAAK,CAAErE,cAAZ,EACA,2BAAK,KAAK,CAAEK,OAAZ,EACI,2BAAK,KAAK,CAAEH,WAAZ,EAII,yBAAG,KAAK,CAAEe,WAAV,yBAJJ,CAKI,yBAAG,KAAK,CAAER,SAAV,yBALJ,CAMI,oBAAC,QAAD,EACI,WAAW,CAAE,IACb;AAFJ,CAGI,SAAS,CAAC,QAHd,CAII,gBAAgB,CAAC,EAJrB,CAKI,UAAU,CAAC,MALf,CAMI,GAAG,CAAE,KAAK8B,QANd,EANJ,CAcI,yBAAG,KAAK,CAAE9B,SAAV,mBAdJ,CAeI,oBAAC,QAAD,EACI,WAAW,CAAE,IACb;AAFJ,CAGI,SAAS,CAAC,QAHd,CAII,OAAO,CAAC,UAJZ,CAKI,gBAAgB,CAAC,EALrB,CAMI,UAAU,CAAC,MANf,CAOI,GAAG,CAAE,KAAKgC,WAPd,EAfJ,CAwBI,2BAAK,KAAK,CAAEvB,MAAZ,EAxBJ,CAyBI,2BAAK,KAAK,CAAE,CAAER,SAAS,CAAE,QAAb,CAAZ,EACI,oBAAC,gBAAD,EACI,UAAU,CAAE,KAAK6B,QADrB,CAEI,aAAa,CAAE,KAAKE,WAFxB,CAGI,oBAAoB,CAAE,KAAKC,mBAH/B,CAII,eAAe,CAAE,KAAKG,eAJ1B,EADJ,CAOI,oBAAC,oBAAD,MAPJ,CAzBJ,CADJ,CADA,CADJ,CAPJ,CAiDI,oBAAC,UAAD,MAjDJ,CADJ,CAqDH,CA1DD,IA2DK,IAAI,KAAKd,KAAL,CAAWI,uBAAX,EAAsC,CAAC,KAAKJ,KAAL,CAAWK,kBAAtD,CAA0E,CAC3E,MAAO,qBAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,CAAC,uBAAlB,EAAP,CACH,CAFI,IAGA,IAAI,KAAKL,KAAL,CAAWK,kBAAX,EAAiC,CAAC,KAAKL,KAAL,CAAWI,uBAAjD,CAA0E,CAC3E,MAAO,qBAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,CAAC,YAAlB,EAAP,CACH,CAFI,IAGA,IAAI,KAAKJ,KAAL,CAAWM,iBAAf,CAAkC,CACnC,MAAO,qBAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,CAAC,WAAlB,EAAP,CACH,CACJ,C,mBA1Ke7C,KAAK,CAAC8E,S,EA6K1B,cAAerE,CAAAA,MAAM,CAACmB,KAAD,CAArB","sourcesContent":["import React from 'react';\r\nimport AppBarHome from \"../home/AppBarHome\";\r\nimport HomeFooter from \"../../pages/home/HomeFooter\";\r\nimport TFString from \"../../inputs/TFString\";\r\nimport LoginButtonLarge from \"../../buttons/LoginButtonLarge\";\r\nimport ForgotPasswordButton from \"../../buttons/ForgotPasswordButton\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport PULoading from 'components/common/PULoading';\r\nimport {containerStyle} from \"../home/styles/PublicStyle\";\r\nimport Radium from \"radium\";\r\n\r\nconst loginHolder = {\r\n    marginTop: \"100px\",\r\n    width: \"320px\",\r\n};\r\n\r\n\r\nconst wrapper = {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: \"0 32px\",\r\n};\r\n\r\nconst hintStyle = {\r\n    textAlign: \"left\",\r\n    fontSize: \"14px\",\r\n    fontFamily: \"ProximaNova, sans-serif\",\r\n    fontWeight: \"bold\",\r\n    marginTop: \"20px\",\r\n    marginBottom: \"0\",\r\n    marginLeft: \"30px\",\r\n    opacity: \"0.6\"\r\n};\r\n\r\nconst headerStyle = {\r\n    textAlign: \"center\",\r\n    fontSize: \"18px\",\r\n    fontFamily: \"ProximaNova, sans-serif\",\r\n    fontWeight: \"bold\",\r\n    marginTop: \"0px\",\r\n    marginBottom: \"50px\",\r\n    opacity: \"0.7\"\r\n};\r\n\r\nconst spacer = {\r\n    height: \"40px\",\r\n    width: \"100%\"\r\n};\r\n\r\n\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let intViewportHeight = window.innerHeight - 332;\r\n        let intLoadingBackgroundHeight = window.innerHeight;\r\n        let intLoadingBackgroundWidth = window.innerWidth;\r\n        this.state = {\r\n            divHeight: intViewportHeight,\r\n            loadingBackgroundHeight: intLoadingBackgroundHeight,\r\n            loadingBackgroundWidth: intLoadingBackgroundWidth,\r\n            sms_code_check_redirect: false,\r\n            dashboard_redirect: false,\r\n            login_redirect: false,\r\n            register_redirect: false,\r\n            progressBarVisible: false\r\n        };\r\n        this.tf_login = React.createRef();\r\n        this.tf_password = React.createRef();\r\n        this.handleLoginResponse = this.handleLoginResponse.bind(this);\r\n\r\n        this.handleRegisterRedirect = this.handleRegisterRedirect.bind(this);\r\n        this.showProgressBar = this.showProgressBar.bind(this);\r\n    }\r\n    showProgressBar(barVisible) {\r\n        this.setState({ progressBarVisible: barVisible });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    generateLoginHolderStyle() {\r\n        return {\r\n            minHeight: this.state.divHeight,\r\n        }\r\n    }\r\n\r\n    handleLoginRedirect = () => {\r\n        this.setState({ login_redirect: true });\r\n    };\r\n\r\n    handleRegisterRedirect() {\r\n        this.setState({ register_redirect: true });\r\n    };\r\n\r\n    handleLoginResponse(resp, login, password) {\r\n\r\n        if (resp.status === 'OK' && resp.response.two_factor_auth === true) {\r\n            sessionStorage.setItem('user_id', resp.response.user_id);\r\n            sessionStorage.setItem('token', resp.response.token);\r\n            sessionStorage.setItem('key', resp.response.key);\r\n            sessionStorage.setItem('id_sms_code', resp.response.id_sms_code);\r\n            this.setState({ sms_code_check_redirect: true });\r\n        }\r\n        else if (resp.status === 'OK' && (resp.response.two_factor_auth === false || resp.response.two_factor_auth === null)) {\r\n            sessionStorage.setItem('user_id', resp.response.user_id);\r\n            sessionStorage.setItem('token', resp.response.token);\r\n            sessionStorage.setItem('key', resp.response.key);\r\n            sessionStorage.setItem('phone_number', resp.response.phone_number);\r\n            this.setState({ dashboard_redirect: true })\r\n        }\r\n        else {\r\n            if (resp.status === 'FAIL') {\r\n                for (const error of resp.errors) {\r\n                    this.tf_login.current.setValue(login);\r\n                    this.tf_password.current.setValue(password);\r\n\r\n                    switch (error.code) {\r\n                        case 1: {\r\n                            this.tf_login.current.setError(error.message);\r\n                            break;\r\n                        }\r\n                        case 2: {\r\n                            this.tf_password.current.setError(error.message);\r\n                            break;\r\n                        }\r\n                        case 3: {\r\n                            this.tf_login.current.setError(error.message);\r\n                            this.tf_password.current.setError('');\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({ sms_code_check_redirect: false });\r\n                this.setState({ dashboard_redirect: false });\r\n            }\r\n            else {\r\n                alert('Server error!');\r\n                this.setState({ sms_code_check_redirect: false });\r\n                this.setState({ dashboard_redirect: false });\r\n            }\r\n        }\r\n    };\r\n\r\n    render() {\r\n        if (this.state.progressBarVisible) {\r\n            return <PULoading size={100} thickness={3} />\r\n        }\r\n        if (\r\n            !this.state.sms_code_check_redirect &&\r\n            !this.state.dashboard_redirect &&\r\n            !this.state.register_redirect\r\n        ) {\r\n            return (\r\n                <div className=\"App\">\r\n                    <header className=\"App-header\">\r\n                        <AppBarHome\r\n                            loginRedirectHandler={this.handleLoginRedirect}\r\n                            registerRedirectHandler={this.handleRegisterRedirect}\r\n                        />\r\n                    </header>\r\n                    <div style={this.generateLoginHolderStyle()}>\r\n                        <div styel={containerStyle}>\r\n                        <div style={wrapper}>\r\n                            <div style={loginHolder}>\r\n                                {/*<input*/}\r\n\r\n                                {/*>*/}\r\n                                <p style={headerStyle}>Sign in to PAYSUNION</p>\r\n                                <p style={hintStyle}>Input phone or email</p>\r\n                                <TFString\r\n                                    tf_required={true}\r\n                                    // tf_variant=\"outlined\"\r\n                                    tf_margin=\"normal\"\r\n                                    tf_default_value=\"\"\r\n                                    tf_enabled=\"true\"\r\n                                    ref={this.tf_login}\r\n                                />\r\n                                <p style={hintStyle}>Input password</p>\r\n                                <TFString\r\n                                    tf_required={true}\r\n                                    // tf_variant=\"outlined\"\r\n                                    tf_margin=\"normal\"\r\n                                    tf_type=\"password\"\r\n                                    tf_default_value=\"\"\r\n                                    tf_enabled=\"true\"\r\n                                    ref={this.tf_password}\r\n                                />\r\n                                <div style={spacer} />\r\n                                <div style={{ textAlign: 'center' }}>\r\n                                    <LoginButtonLarge\r\n                                        etLoginRef={this.tf_login}\r\n                                        etPasswordRef={this.tf_password}\r\n                                        loginResponseHandler={this.handleLoginResponse}\r\n                                        showProgressBar={this.showProgressBar}\r\n                                    />\r\n                                    <ForgotPasswordButton />\r\n                                </div>\r\n                                {/*</input>*/}\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    <HomeFooter />\r\n                </div>\r\n            );\r\n        }\r\n        else if (this.state.sms_code_check_redirect && !this.state.dashboard_redirect) {\r\n            return <Redirect push to=\"/login_enter_sms_code\" />;\r\n        }\r\n        else if (this.state.dashboard_redirect && !this.state.sms_code_check_redirect) {\r\n            return <Redirect push to=\"/dashboard\" />;\r\n        }\r\n        else if (this.state.register_redirect) {\r\n            return <Redirect push to=\"/register\" />;\r\n        }\r\n    }\r\n}\r\n\r\nexport default Radium(Login);"]},"metadata":{},"sourceType":"module"}